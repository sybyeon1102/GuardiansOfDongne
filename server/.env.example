# ============================
# Database (PostgreSQL)
# ============================
# 형식: postgresql+psycopg://USER:PASSWORD@HOST:PORT/DBNAME
DATABASE_URL="postgresql+psycopg://myuser:mypassword@localhost:5432/DBNAME"

# ============================
# 모델 체크포인트 / 메타데이터 경로
# (server/behavior_inference_server.py 기준 상대 경로 또는 절대 경로)
# ============================

# 1차 모델 (정상/이상 판정용)
DET_CKPT_PATH=
DET_META_PATH=

# 2차 모델 (이상 행동 라벨 분류용)
CLS_CKPT_PATH=
CLS_META_PATH=

# ============================
# Kakao API 설정
# ============================
# - 모든 카톡은 "에이전트별 Kakao 토큰"으로만 나간다.
# - 이 URL은 기본값이 이미 코드에 있으므로, 보통은 굳이 설정 안 해도 됨.
#   필요하면 override 용도로만 사용.
KAKAO_SEND_URL="https://kapi.kakao.com/v2/api/talk/memo/default/send"

# ============================
# 이상행동 판정 파라미터 (옵션)
# - 기본값 괜찮으면 생략 가능
# - 환경별로 튜닝하고 싶을 때만 조절
# ============================

# EMA 평활 계수 (0~1, 클수록 반응 빠름)
EMA_ALPHA="0.3"

# START / END 임계값 (EMA 기준)
DET_START_THR="0.80"    # 이 값 이상이면 '이상' 쪽으로 기울었다고 봄
DET_END_THR="0.55"      # 이 값 이하로 떨어지면 '정상으로 돌아왔다'고 봄

# voting 윈도우 크기 및 최소 표 수
DET_VOTE_WIN="5"        # 최근 5 윈도우
DET_MIN_START_VOTES="4" # 그 중 True(이상) 표가 최소 몇 개 이상이면 START
DET_MIN_END_VOTES="4"   # None 표(중립) 수 기준 END 조건에 사용

# 이벤트 최소 길이 / 쿨다운 (초 단위)
DET_MIN_EVENT_SEC="2.0"   # 최소 2초 이상 지속되어야 진짜 이벤트로 인정
DET_COOLDOWN_SEC="2.0"    # END 이후 최소 2초는 다시 START 안 나도록 쿨다운

# ============================
# 기타
# ============================
# 필요하면 로깅 옵션 등 추가 가능
# 예) LOG_LEVEL="INFO"
